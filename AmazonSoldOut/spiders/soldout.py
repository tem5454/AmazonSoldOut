 #-*- encoding: utf-8 -*-
import scrapy
import copy
import sys
import getpass
import urllib.parse
import random
import socket
import socks
import requests
import time
import pydispatch
from scrapy import signals
from datetime import datetime

# urlList =[
# 'http://www.amazon.co.jp/%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-B-185-%E3%83%96%E3%83%BC%E3%82%B9%E3%82%BF%E3%83%BC-%E3%83%90%E3%83%8B%E3%83%83%E3%82%B7%E3%83%A5%E3%83%95%E3%82%A1%E3%83%96%E3%83%8B%E3%83%AB-Tp-Kc-3/dp/B094DXPZVT/ref=sr_1_4?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730601&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-4',
# 'http://www.amazon.co.jp/%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-B-177-%E3%83%96%E3%83%BC%E3%82%B9%E3%82%BF%E3%83%BC-%E3%82%B8%E3%82%A7%E3%83%83%E3%83%88%E3%83%AF%E3%82%A4%E3%83%90%E3%83%BC%E3%83%B3-Ar-Js-1D/dp/B08R88SK1C/ref=sr_1_21?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730601&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-21',
# 'http://www.amazon.co.jp/%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-B-167-%E3%83%96%E3%83%BC%E3%82%B9%E3%82%BF%E3%83%BC-%E3%83%9F%E3%83%A9%E3%83%BC%E3%82%B8%E3%83%A5%E3%83%95%E3%82%A1%E3%83%96%E3%83%8B%E3%83%AB-Nt-2S/dp/B088CBTJXX/ref=sr_1_26?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730601&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-26',
# 'http://www.amazon.co.jp/%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC-TAKARA-TOMY-%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-%E3%82%A4%E3%83%B3%E3%83%9A%E3%83%AA%E3%82%A2%E3%83%AB%E3%83%89%E3%83%A9%E3%82%B4%E3%83%B3-Ig%E2%80%99/dp/B07YY8Z3BW/ref=sr_1_27?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730601&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-27',
# 'http://www.amazon.co.jp/%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-B-168-%E3%83%96%E3%83%BC%E3%82%B9%E3%82%BF%E3%83%BC-%E3%83%AC%E3%82%A4%E3%82%B8%E3%83%AD%E3%83%B3%E3%82%AE%E3%83%8C%E3%82%B9-Ds-3A/dp/B088CBY6R2/ref=sr_1_28?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730601&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-28',
# 'http://www.amazon.co.jp/%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC-TAKARA-TOMY-B-175-%E3%83%AB%E3%82%B7%E3%83%95%E3%82%A1%E3%83%BC%E3%82%B8%E3%82%A8%E3%83%B3%E3%83%89-%E7%9A%87-Dr/dp/B08MXFF1FL/ref=sr_1_29?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730601&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-29',
# 'http://www.amazon.co.jp/%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC-TAKARA-TOMY-%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-%E3%83%99%E3%83%8E%E3%83%A0%E3%83%87%E3%82%A3%E3%82%A2%E3%83%9C%E3%83%AD%E3%82%B9-Vn-Bl/dp/B07RMXX6Z7/ref=sr_1_26?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730614&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-26',
# 'http://www.amazon.co.jp/%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-B-172-%E3%83%96%E3%83%BC%E3%82%B9%E3%82%BF%E3%83%BC-%E3%83%AF%E3%83%BC%E3%83%AB%E3%83%89%E3%82%B9%E3%83%97%E3%83%AA%E3%82%AC%E3%83%B3-U/dp/B08DPJ6TLN/ref=sr_1_27?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730614&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-27',
# 'http://www.amazon.co.jp/%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC-TAKARA-TOMY-B-120-%E3%83%90%E3%82%B9%E3%82%BF%E3%83%BC%E3%82%A8%E3%82%AF%E3%82%B9%E3%82%AB%E3%83%AA%E3%83%90%E3%83%BC-1-Sw/dp/B07FD59CPX/ref=sr_1_29?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730614&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-29',
# 'http://www.amazon.co.jp/%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC-TAKARA-TOMY-%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-%E3%82%B9%E3%83%91%E3%83%BC%E3%82%AD%E3%83%B3%E3%82%B0%E3%83%99%E3%82%A4%E3%83%A9%E3%83%B3%E3%83%81%E3%83%A3%E3%83%BC/dp/B085RZPJST/ref=sr_1_30?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730614&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-30',
# 'http://www.amazon.co.jp/%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-B-187-%E3%82%B9%E3%82%BF%E3%83%BC%E3%82%BF%E3%83%BC-%E3%82%BB%E3%82%A4%E3%83%90%E3%83%BC%E3%83%B4%E3%82%A1%E3%83%AB%E3%82%AD%E3%83%AA%E3%83%BC-Sh-7/dp/B096W41H2N/ref=sr_1_31?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730614&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-31',
# 'http://www.amazon.co.jp/%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC-TAKARA-TOMY-AMU-PRZ7461-DB%E3%82%A8%E3%83%B3%E3%83%88%E3%83%AA%E3%83%BC%E3%82%BB%E3%83%83%E3%83%88/dp/B01LXISE0K/ref=sr_1_5?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730601&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-5',
# 'http://www.amazon.co.jp/%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC-TAKARA-TOMY-Bb-Sa0x-%E3%83%A4%E3%83%9F%E3%83%86%E3%83%AA%E3%82%AA%E3%82%B9-%E3%82%BC%E3%83%AD-%E3%82%A8%E3%82%AF%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%A0%E3%83%80%E3%83%83%E3%82%B7%E3%83%A5/dp/B07GKZBFQH/ref=sr_1_33?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730614&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-33',
# 'http://www.amazon.co.jp/%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC-TAKARA-TOMY-B-127-%E8%B6%85%C6%B5%E3%83%B4%E3%82%A1%E3%83%AB%E3%82%AD%E3%83%AA%E3%83%BC-Z-Ev/dp/B07JCM53Y5/ref=sr_1_34?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730614&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-34',
# 'http://www.amazon.co.jp/%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-B-150-%E3%83%96%E3%83%BC%E3%82%B9%E3%82%BF%E3%83%BC-%E3%83%A6%E3%83%8B%E3%82%AA%E3%83%B3%E3%82%A2%E3%82%AD%E3%83%AC%E3%82%B9-Cn-Xt-%E7%83%88/dp/B07WLQKZ24/ref=sr_1_35?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730614&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-35',
# 'http://www.amazon.co.jp/%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC-TAKARA-TOMY-%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-%E3%83%AD%E3%83%BC%E3%83%89%E3%82%A2%E3%82%AD%E3%83%AC%E3%82%B9-Pr-Qc/dp/B08JHTY6TS/ref=sr_1_36?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730614&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-36',
# 'http://www.amazon.co.jp/%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC-TAKARA-TOMY-B-66-%E3%83%AD%E3%82%B9%E3%83%88%E3%83%AD%E3%83%B3%E3%82%AE%E3%83%8C%E3%82%B9-N-Sp/dp/B01N2G30OO/ref=sr_1_37?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730614&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-37',
# 'http://www.amazon.co.jp/%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC-TAKARA-TOMY-B-100-%E3%82%B9%E3%83%97%E3%83%AA%E3%82%AC%E3%83%B3%E3%83%AC%E3%82%AF%E3%82%A4%E3%82%A8%E3%83%A0-0-Zt/dp/B077G5RNMZ/ref=sr_1_38?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730614&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-38',
# 'http://www.amazon.co.jp/%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC-TAKARA-TOMY-%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-%E3%82%A6%E3%82%A4%E3%83%8B%E3%83%B3%E3%82%B0%E3%83%B4%E3%82%A1%E3%83%AB%E3%82%AD%E3%83%AA%E3%83%BC-12-Vl/dp/B07B3MNNP5/ref=sr_1_39?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730614&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-39',
# 'http://www.amazon.co.jp/%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC-TAKARA-TOMY-%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-GT%E3%83%88%E3%83%AA%E3%83%97%E3%83%AB%E3%83%96%E3%83%BC%E3%82%B9%E3%82%BF%E3%83%BC%E3%82%BB%E3%83%83%E3%83%88/dp/B07V5GQMZ1/ref=sr_1_41?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730614&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-41',
# 'http://www.amazon.co.jp/%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC-TAKARA-TOMY-%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-%E3%83%99%E3%82%A4%E3%82%B9%E3%82%BF%E3%82%B8%E3%82%A2%E3%83%A0/dp/B07HZ5RWR2/ref=sr_1_42?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730614&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-42',
# 'http://www.amazon.co.jp/%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC-TAKARA-TOMY-%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88B-159-%E3%82%B9%E3%83%BC%E3%83%91%E3%83%BC%E3%83%8F%E3%82%A4%E3%83%9A%E3%83%AA%E3%82%AA%E3%83%B3-Xc/dp/B085RZMVGT/ref=sr_1_45?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730614&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-45',
# 'http://www.amazon.co.jp/%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-B-179-%E3%83%96%E3%83%BC%E3%82%B9%E3%82%BF%E3%83%BC-%E3%83%87%E3%82%B9%E3%82%BD%E3%83%AD%E3%83%A2%E3%83%B3-MF/dp/B08W6BS5G6/ref=sr_1_10?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730601&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-10',
# 'http://www.amazon.co.jp/%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-B-133-DX-%E3%82%B9%E3%82%BF%E3%83%BC%E3%82%BF%E3%83%BC-%E3%82%A8%E3%83%BC%E3%82%B9%E3%83%89%E3%83%A9%E3%82%B4%E3%83%B3-St-Ch/dp/B07PGZVL4Z/ref=sr_1_46?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730614&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-46',
# 'http://www.amazon.co.jp/%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC-TAKARA-TOMY-%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-%E3%83%87%E3%83%83%E3%83%89%E3%83%95%E3%82%A7%E3%83%8B%E3%83%83%E3%82%AF%E3%82%B9-0-At/dp/B07M9B3FZ9/ref=sr_1_49?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730629&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-49',
# 'http://www.amazon.co.jp/%E9%9D%9E%E5%A3%B2%E5%93%81-%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-%E3%83%AC%E3%82%B8%E3%82%A7%E3%83%B3%E3%83%89%E3%82%B4%E3%83%83%E3%83%89%E3%83%99%E3%82%A4-%E3%82%B3%E3%83%AD%E3%82%B3%E3%83%AD%E3%82%B3%E3%83%9F%E3%83%83%E3%82%AF-%E8%AA%AD%E8%80%85%E5%85%A8%E5%93%A1%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9/dp/B06XFNXSTG/ref=sr_1_51?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730629&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-51' 
# ]

urlList =[
'http://www.amazon.co.jp/%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-B-185-%E3%83%96%E3%83%BC%E3%82%B9%E3%82%BF%E3%83%BC-%E3%83%90%E3%83%8B%E3%83%83%E3%82%B7%E3%83%A5%E3%83%95%E3%82%A1%E3%83%96%E3%83%8B%E3%83%AB-Tp-Kc-3/dp/B094DXPZVT/ref=sr_1_4?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730601&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-4',
'http://www.amazon.co.jp/%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-B-177-%E3%83%96%E3%83%BC%E3%82%B9%E3%82%BF%E3%83%BC-%E3%82%B8%E3%82%A7%E3%83%83%E3%83%88%E3%83%AF%E3%82%A4%E3%83%90%E3%83%BC%E3%83%B3-Ar-Js-1D/dp/B08R88SK1C/ref=sr_1_21?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730601&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-21',
'http://www.amazon.co.jp/%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88-B-167-%E3%83%96%E3%83%BC%E3%82%B9%E3%82%BF%E3%83%BC-%E3%83%9F%E3%83%A9%E3%83%BC%E3%82%B8%E3%83%A5%E3%83%95%E3%82%A1%E3%83%96%E3%83%8B%E3%83%AB-Nt-2S/dp/B088CBTJXX/ref=sr_1_26?dchild=1&keywords=%E3%83%99%E3%82%A4%E3%83%96%E3%83%AC%E3%83%BC%E3%83%89%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88&qid=1623730601&refinements=p_76%3A2227292051%2Cp_89%3A%E3%82%BF%E3%82%AB%E3%83%A9%E3%83%88%E3%83%9F%E3%83%BC%28TAKARA+TOMY%29&rnid=2321255051&rps=1&s=toys&sr=1-26',
]

class SoldoutSpider(scrapy.Spider):
    name = 'soldout'
    allowed_domains = ['yourall.tistory.com/428']
    start_urls = ['http://yourall.tistory.com/428/']

    def __init__(self):
        scrapy.Spider.__init__(self)
        pydispatch.dispatcher.connect(self.handle_spider_closed, signals.spider_closed)

    def start_requests(self):
        for urlvalue in urlList:
            time.sleep(random.uniform(1,5))
            print(urlvalue)
            yield scrapy.Request(url=urlvalue)

    def parse(self, response):
        price = response.xpath('//*[@id="corePrice_desktop"]/div//text()')
        print('!!!!!! {} !!!!!!!'.format(price.extract()))

    def handle_spider_closed(self, spider):
        print('done')